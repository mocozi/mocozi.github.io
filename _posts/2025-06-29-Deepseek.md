---
title: 딥시크 YAML
excerpt: 
tags: 
categories: 
toc: true
toc_sticky: true
date: 2025-06-25
last_modified_at: 
comments: true
author_profile: 
sidebar:
---
## 딥시크에서 얻은 코드

```

name: Sync Blog Posts to GitHub Pages

on:
  push:
    branches:
      - main  # 또는 기본 브랜치 이름 (예: master)
    paths:
      - '6. Blog/**'  # "6. Blog" 폴더 변경 시에만 트리거 (대소문자 확인요망)

jobs:
  sync-posts:
    runs-on: ubuntu-latest

    steps:
      # 1. 소스 리포지토리 (Obsidian) 체크아웃
      - name: Checkout Obsidian repo
        uses: actions/checkout@v4
        with:
          path: 'source-repo'

      # 2. Git 사용자 정보 설정
      - name: Configure Git
        run: |
          git config --global user.name "mocozi"
          git config --global user.email "mocozi@hotmail.com"

      # 3. 대상 리포지토리 (GitHub Pages) 체크아웃
      - name: Checkout GitHub Pages repo
        uses: actions/checkout@v4
        with:
          repository: mocozi/mocozi.github.io
          token: ${{ secrets.ACTIONS_PAT }}
          path: 'target-repo'

      # 4. 파일 복사 및 Jekyll 형식으로 변환
      - name: Copy and format posts
        run: |
          # "6. Blog" 폴더에서 .md 파일만 _posts로 복사
          cp -R source-repo/"6. Blog"/*.md target-repo/_posts/ || true

          # Jekyll 호환 파일명으로 변경 (YYYY-MM-DD-title.md)
          cd target-repo/_posts
          for file in *.md; do
            if [[ ! "$file" =~ ^[0-9]{4}-[0-9]{2}-[0-9]{2}- ]]; then
              # Frontmatter에서 date 추출 (예: date: 2023-11-20)
              DATE=$(grep -m 1 'date:' "$file" | cut -d ' ' -f 2 | tr -d '"' || date +%Y-%m-%d)
              # 파일명에 날짜 추가
              mv "$file" "${DATE}-${file}"
            fi
          done

      # 5. 변경사항 커밋 및 푸시
      - name: Commit and Push
        run: |
          cd target-repo
          git add _posts/
          git diff --quiet && git diff --staged --quiet || git commit -m "Auto-sync posts from Obsidian [$(date +%Y-%m-%d)]"
          git push


```

>[!caution]
>반박시 당신의 말이 옳다.
